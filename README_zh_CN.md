


# AI 侧边栏插件

一个功能强大的思源笔记 AI 助手插件，支持多 AI 平台、多模态对话、文档上下文集成等丰富功能。

## ✨ 核心特性

### 🤖 多平台 AI 支持

- **内置平台支持**
  - OpenAI（GPT 系列）
  - Google Gemini
  - DeepSeek
  - 火山引擎（豆包大模型）
  
- **自定义平台**
  - 支持添加任意兼容 OpenAI API 的平台
  - 灵活配置 API 端点和密钥
  - 支持私有部署的大模型

### 💬 智能对话功能

- **多模态支持**
  - 文本对话
  - 图片识别（支持粘贴、上传、拖放）
  - 文件上传（支持 Markdown、文本文件等）
  - 多种内容类型混合输入

- **思考模式**
  - 支持 DeepSeek、OpenAI o1 系列等带思考过程的模型
  - 实时流式展示思考过程
  - 可折叠/展开查看详细思考内容

- **会话管理**
  - 自动保存对话历史
  - 创建和切换多个会话
  - 智能生成会话标题
  - 未保存提醒功能

### 📚 文档上下文集成

- **智能文档搜索**
  - 在思源笔记中搜索相关文档
  - 实时搜索预览
  - 快速添加到对话上下文

- **多种添加方式**
  - 拖放文档块到侧边栏
  - 搜索并选择文档
  - 通过快捷按钮添加当前文档/块
  - 一键添加当前聚焦的文档或块

- **上下文管理**
  - 查看已添加的文档列表
  - 一键跳转到原文档
  - 灵活删除不需要的文档
  - 支持同时添加多个文档

### 🎯 提示词管理

- **提示词库**
  - 创建和保存常用提示词
  - 编辑和删除提示词
  - 一键使用提示词模板
  - 快速插入到输入框

- **便捷访问**
  - 点击 📝 图标打开提示词选择器
  - 悬浮显示，不打断工作流
  - 支持提示词管理对话框

### ⚙️ 灵活的配置选项

- **模型配置**
  - 每个平台支持多个模型
  - 独立配置每个模型的参数（温度、最大 tokens）
  - 标识模型特殊能力（思考模式、视觉支持）
  - 快速切换不同模型

- **系统提示词**
  - 自定义 AI 助手的行为和角色
  - 应用于所有新会话
  - 灵活调整输出风格

### 🎨 优秀的用户体验

- **实时流式输出**
  - 逐字显示 AI 回复
  - 即时展示思考过程
  - 可随时中断生成

- **Markdown 渲染**
  - 使用思源内置 Lute 引擎
  - 完美支持代码高亮
  - 数学公式渲染
  - 表格和列表等格式

- **便捷操作**
  - 一键复制消息
  - 导出整个对话为 Markdown
  - 快捷键支持（Ctrl+Enter 发送）
  - 响应式设计，适配不同屏幕

## 📥 安装

1. 在思源笔记集市中搜索 "AI 侧边栏"
2. 点击安装并启用插件
3. 在插件设置中配置你的 AI 平台 API 密钥

## 🚀 快速开始

### 1. 配置 AI 平台

- 点击插件设置图标
- 选择你要使用的 AI 平台（OpenAI、Gemini 等）
- 输入对应的 API 密钥
- 可选：配置自定义 API 端点
- 选择可用的模型并配置参数

### 2. 开始对话

- 点击侧边栏的 AI 助手图标
- 在输入框中输入问题
- 按 Ctrl+Enter 或点击发送按钮
- 等待 AI 回复

### 3. 添加文档上下文

**方法一：搜索添加**
- 点击搜索图标 🔍
- 输入关键词搜索文档
- 点击搜索结果添加到上下文

**方法二：拖放添加**
- 从文档树或编辑器中拖动文档块
- 放到 AI 侧边栏上
- 自动添加到对话上下文

**方法三：快捷按钮**
- 点击 "+" 按钮
- 自动添加当前聚焦的文档或块

### 4. 使用提示词

- 点击 📝 图标打开提示词选择器
- 选择已保存的提示词
- 或点击 "管理提示词" 创建新的提示词模板

### 5. 管理会话

- 点击 💬 图标打开会话管理器
- 查看所有历史会话
- 加载之前的对话
- 删除不需要的会话

## 🎯 使用场景

### 📝 写作助手
- 添加你正在编写的文档到上下文
- 让 AI 帮助你扩展、润色或重写内容
- 生成大纲和提纲

### 🔍 知识问答
- 搜索并添加相关笔记到上下文
- 向 AI 提问，基于你的知识库回答
- 快速理解复杂概念

### 🖼️ 图片分析
- 粘贴或上传图片
- 让 AI 识别图片内容
- 提取图片中的文字或信息

### 💡 创意生成
- 使用提示词模板快速开始
- 多轮对话激发创意
- 保存有价值的对话内容

### 📚 文档整理
- 添加多个相关文档
- 让 AI 总结、归纳或对比
- 生成知识卡片

## ⚙️ 高级配置

### 自定义平台

如果你使用其他 AI 平台或私有部署：

1. 在设置中选择 "自定义平台"
2. 点击 "添加自定义平台"
3. 输入平台名称和 API 配置
4. 添加可用的模型和参数
5. 保存并选择使用

### 模型参数说明

- **Temperature**：控制输出的随机性（0-2）
  - 较低值：更确定、更一致
  - 较高值：更有创意、更多样
  
- **Max Tokens**：控制最大输出长度
  - 根据模型限制设置
  - 注意成本和性能平衡

### 系统提示词

通过系统提示词定制 AI 助手的行为：

```
你是一个专业的知识管理助手，擅长帮助用户整理和总结笔记内容。
在回答时，请：
1. 保持简洁明了
2. 使用 Markdown 格式
3. 提供可操作的建议
```

## 🔧 开发相关

### 本地开发

```bash
pnpm install
pnpm run dev
```



## 📄 许可证

MIT License

## 🙏 致谢

- 基于 [plugin-sample-vite-svelte](https://github.com/siyuan-note/plugin-sample-vite-svelte/) 模板开发
- 感谢思源笔记团队提供的优秀插件系统

## 📮 反馈与建议

如有问题或建议，欢迎在 [GitHub Issues](https://github.com/Achuan-2/siyuan-plugin-ai-sidebar/issues) 中提出。

---

**注意**：使用本插件需要自备 AI 平台的 API 密钥，插件本身不提供 AI 服务。请遵守各平台的使用条款和隐私政策。
